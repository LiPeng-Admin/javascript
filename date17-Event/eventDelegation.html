<html>
    <head>
        <meta charset="utf-8">
        <title>事件委派</title>
        <script type="text/javascript">
       window.onload=function(){

         //点击添加按钮，添加超链接

         //获取id 为btn01的元素
         var btn01=document.getElementById("btn01");
         btn01.onclick=function(){
           
            //创建一个li 标签
            var li=document.createElement("li");
            //设置li 下的内容
            li.innerHTML="<a href='javascript:;' class='link'>新建的超链接</a>"

        //将li标签添加到ui 中
        //获取ui 元素
        var u1=document.getElementById("u1");
        u1.appendChild(li);

         }
           //为每个超链接绑定单击响应函数
           //获取a 标签元素
           var a=document.getElementsByTagName("a");
          // alert(a.length);   //test
           //遍历每个a 元素
        //    for(var i=0;i<a.length;i++){
        //        //为每个a元素绑定单击响应事件
               
        //        a[i].onclick=function(){
        //            alert("我是超链接");
        //        }
        //    }

        //尝试将其绑定给元素的共同的祖先元素

        /*
        事件的委派
        指将事件统一绑定给元素的共同的祖先元素，这样当后代元素上的事件被触发时，会一直冒泡到祖先元素
        事件委派利用了冒泡，通过委派可以减少事件绑定的次数，提高程序的性能
        */

        //为u1 绑定单击响应函数
        u1.onclick=function(event){
            event=event ||window.event;
            //alert(event.target);
            
            //如果触发事件的对象是我们期望的元素，则执行，否则不执行
            if(event.target.className=="link"){
                alert("我是u1 单击响应函数")

            }
        }

          
    }
    </script>
    </head>
    <body>
        <button id="btn01">点我添加超链接</button>
        <ui id="u1">
            <li><a href="javascript:;" class="link">超链接一</a></li>
            <li><a href="javascript:;" class="link">超链接二</a></li>
            <li><a href="javascript:;" class="link">超链接三</a></li>
        </ui>
    </body>
</html>